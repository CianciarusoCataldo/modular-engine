"use strict";(self.webpackChunkmodular_engine_app=self.webpackChunkmodular_engine_app||[]).push([[425],{8104:function(n,e,r){r.d(e,{F:function(){return o},d:function(){return i}});var t=r(827),o=(0,t.PH)("@@ui/OPEN_DRAWER"),i=(0,t.PH)("@@ui/CLOSE_DRAWER")},7425:function(n,e,r){r.r(e),r.d(e,{default:function(){return Z}});var t=r(7313),o=r(6352),i=r(1413),a=r(529),c=r(7570),l=r(6417),u=function(n){var e=(0,c.v)(a.W2);return(0,l.jsx)(e,(0,i.Z)({},n))},s=r(8104),f=r(5323),d=r(8755),v=(0,f.P1)(d.Yx,(function(n){return n.isDrawerOpen})),h=function(n){var e=n.creatorConfig,r=(0,o.I0)(),u=(0,o.v9)(v),f=null!==e&&void 0!==e&&e.drawer?{children:e.drawer.content(),position:e.drawer.position}:{};t.useEffect((function(){if(u){var n=document.getElementById("modular-drawer");document.getElementById("app-container").onclick=function(e){n&&!n.contains(e.target)&&r((0,s.d)())}}else document.getElementById("app-container").onclick=null}),[r,u]);var d=(0,c.v)(a.dy);return(0,l.jsx)(d,(0,i.Z)({hide:!u,onClose:function(){r((0,s.d)())}},f))},p=r(5671),g=r(3144),m=r(136),C=r(1120);var x=r(2963);function j(n){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,t=(0,C.Z)(n);if(e){var o=(0,C.Z)(this).constructor;r=Reflect.construct(t,arguments,o)}else r=t.apply(this,arguments);return(0,x.Z)(this,r)}}var y=function(n){(0,m.Z)(r,n);var e=j(r);function r(n){var t;return(0,p.Z)(this,r),(t=e.call(this,n)).state={hasError:!1},t}return(0,g.Z)(r,[{key:"componentDidCatch",value:function(n,e){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?(window.document.title="Error",this.props.fallback||(0,l.jsx)("div",{style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"},children:(0,l.jsx)("div",{style:{margin:"auto"},children:(0,l.jsx)(a.zx,{style:{fontSize:"3rem",padding:"1rem"},className:"error-button",onClick:function(){window.location.reload()},children:"Try again"})})})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0}}}]),r}(t.Component),w=r(6241),E=function(n){var e=n.creatorConfig,r=(n.engineConfig,(0,o.I0)()),t=(0,o.v9)(w.mV),i=(0,o.v9)(w.gU),u=(null===e||void 0===e?void 0:e.modals)||{},s=t&&u[t]||function(){return(0,l.jsx)("div",{})},f=(0,c.v)(a.u_);return(0,l.jsx)(f,{onClose:function(){r((0,w.Mr)())},hide:!i,children:(0,l.jsx)(s,{})})},k=function(n){var e=n.engineConfig,r=n.creatorConfig,i=n.store,a=n.externalComponents,c=n.internalComponents,s=null===r||void 0===r?void 0:r.content,f=null===r||void 0===r?void 0:r.header,d=null===r||void 0===r?void 0:r.footer,v=null===r||void 0===r?void 0:r.preloader;return(0,l.jsx)(t.Suspense,{fallback:v?(0,l.jsx)(v,{}):(0,l.jsx)("div",{}),children:(0,l.jsx)(o.zt,{store:i,children:(0,l.jsxs)(y,{fallback:null===r||void 0===r?void 0:r.error,children:[a.map((function(n){return(0,l.jsx)(n,{engineConfig:e,creatorConfig:r,store:i})})),(null===r||void 0===r?void 0:r.modals)&&(0,l.jsx)(E,{creatorConfig:r,engineConfig:e}),(null===r||void 0===r?void 0:r.drawer)&&(0,l.jsx)(h,{creatorConfig:r}),(0,l.jsxs)("div",{id:"app-container",style:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden",position:"relative"},children:[f&&(0,l.jsx)("header",{style:{position:"relative",top:"0",right:"0",left:"0",width:"100%"},children:(0,l.jsx)(u,{children:(0,l.jsx)(f,{})})}),(0,l.jsx)("div",{style:{height:"100%"},children:c.map((function(n,t){return(0,l.jsx)("div",{children:(0,l.jsx)(n,{engineConfig:e,creatorConfig:r,store:i})},"plugin_".concat(t))}))}),s&&(0,l.jsx)(s,{}),d&&(0,l.jsx)("footer",{style:{width:"100%",bottom:"0",left:"0",right:"0"},children:(0,l.jsx)(u,{children:(0,l.jsx)(d,{})})})]})]})})})},Z=function(n){var e=n.creatorConfig,r=n.engineConfig,t=n.store;if(t&&e&&r){var o=function(n,e){var r=n.plugins||[],t=[],o=[],a=(0,i.Z)({},e),c=(0,i.Z)({},n),l=[],u=[];return r.forEach((function(n){var e=n();if(e.field){var r=e.field(c,a);r.name&&(c[r.name]=r.content||{})}e.component&&(e.insideAppContainer?o.push(e.component):t.push(e.component)),e.formatEngineConfig&&l.push(e.formatEngineConfig),e.formatCreatorConfig&&u.push(e.formatCreatorConfig)})),l.forEach((function(n){a=n(a)||a})),u.forEach((function(n){c=n(c)||c})),{externalComponents:t,internalComponents:o,engineConfig:a,creatorConfig:c}}(e,r),a=o.externalComponents,c=o.internalComponents,u=o.creatorConfig,s=o.engineConfig;return k({externalComponents:a,internalComponents:c,creatorConfig:u,engineConfig:s,store:t})}return(0,l.jsx)("div",{})}},7570:function(n,e,r){r.d(e,{v:function(){return c}});var t=r(1413),o=r(7140),i=r(6352),a=r(6417),c=function(n){return function(e){var r=(0,i.v9)(o.N2);return(0,a.jsx)(n,(0,t.Z)((0,t.Z)({},e),{},{dark:r}))}}}}]);