"use strict";(self.webpackChunkmodular_engine_app=self.webpackChunkmodular_engine_app||[]).push([[178],{6178:function(n,e,r){r.r(e),r.d(e,{default:function(){return g}});var t=r(1413),o=r(9499),i=r(6352),a=r(6417),c=r(529),l=r(7313),s=r(5671),u=r(3144),f=r(136),d=r(1120);var h=r(2963);function p(n){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,t=(0,d.Z)(n);if(e){var o=(0,d.Z)(this).constructor;r=Reflect.construct(t,arguments,o)}else r=t.apply(this,arguments);return(0,h.Z)(this,r)}}var v=function(n){(0,f.Z)(r,n);var e=p(r);function r(n){var t;return(0,s.Z)(this,r),(t=e.call(this,n)).state={hasError:!1},t}return(0,u.Z)(r,[{key:"componentDidCatch",value:function(n,e){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?(window.document.title="Error",this.props.fallback||(0,a.jsx)("div",{style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"},children:(0,a.jsx)("div",{style:{margin:"auto"},children:(0,a.jsx)(c.zx,{style:{fontSize:"3rem",padding:"1rem"},className:"error-button",onClick:function(){window.location.reload()},children:"Try again"})})})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0}}}]),r}(l.Component),x=function(n){var e,r=n.creatorConfig,s=n.store,u=n.externalComponents,f=n.internalComponents,d=null===r||void 0===r?void 0:r.content,h=null===r||void 0===r?void 0:r.header,p=null===r||void 0===r?void 0:r.footer,x=null===r||void 0===r?void 0:r.preloader,m=(e=c.W2,function(n){var r=(0,i.v9)(o.N2);return(0,a.jsx)(e,(0,t.Z)((0,t.Z)({},n),{},{dark:r}))});return(0,a.jsx)(l.Suspense,{fallback:x?(0,a.jsx)(x,{}):(0,a.jsx)("div",{}),children:(0,a.jsx)(v,{fallback:null===r||void 0===r?void 0:r.error,children:(0,a.jsxs)(i.zt,{store:s,children:[u.map((function(n,e){return(0,a.jsx)("div",{children:(0,a.jsx)(n,{creatorConfig:r,store:s})},"plugin_".concat(e))})),(0,a.jsxs)("div",{id:"app-container",style:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden",position:"relative"},children:[h&&(0,a.jsx)("header",{style:{position:"relative",top:"0",right:"0",left:"0",width:"100%"},children:(0,a.jsx)(m,{children:(0,a.jsx)(h,{})})}),(0,a.jsx)("div",{style:{height:"100%",overflow:"auto",width:"100%"},children:f.map((function(n,e){return(0,a.jsx)("div",{children:(0,a.jsx)(n,{creatorConfig:r,store:s})},"plugin_".concat(e))}))}),d&&(0,a.jsx)(d,{}),p&&(0,a.jsx)("footer",{style:{width:"100%",bottom:"0",left:"0",right:"0"},children:(0,a.jsx)(m,{children:(0,a.jsx)(p,{})})})]})]})})})},m=function(n,e){var r,o=n.plugins||[],i={},a=[],c=[],l=(0,t.Z)({},e),s=function(n){var e=n||{};return(0,t.Z)((0,t.Z)({},e),{},{core:e.core||{}})}(n),u=[];return o.forEach((function(n){var e=n();if(e.feature&&(i[e.feature]=!0),e.field){var r=e.field(s)||{};r.name&&(s[r.name]=r.content||{})}e.component&&(e.insideAppContainer?c.push(e.component):a.push(e.component)),e.format&&u.push(e.format)})),null!==(r=s.core)&&void 0!==r&&r.sync&&(s=s.core.sync(n,l,i)),u.forEach((function(n){s=n(s)||s})),{externalComponents:a,internalComponents:c,engineConfig:l,creatorConfig:s}},g=function(n){var e=n.creatorConfig,r=n.engineConfig,t=n.store;if(t&&e&&r){var o=m(e,r),i=o.externalComponents,c=o.internalComponents,l=o.creatorConfig;return x({externalComponents:i,internalComponents:c,creatorConfig:l,store:t})}return(0,a.jsx)("div",{})}}}]);